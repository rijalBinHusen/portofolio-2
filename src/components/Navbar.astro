---
   import { Icon } from "astro-icon";
   const navs = [
      { title: 'About', route: '/', icon: 'mdi:account'},
      { title: 'Blog', route: '/blog', icon: 'fa-brands:blogger'},
      { title: 'Github repo', route: '/projects', icon: 'fa-brands:github'}
   ]
   
   const currentPath = Astro.url.pathname.split('/')[1];
---
<script>
   import { isMobile } from "../utils/isMobile"
   import { toggleElement } from "../utils/toggleElement";

   // navigations title
   const navigations = document.querySelectorAll('.navigation-title')

   const showNavigationTitle = (bool: boolean) => {
      // JIka mobile sembunyikan #github-button dan #navigation tampilkan menu-toggle
      if(bool) {
         // show navigation title
         navigations.forEach((elm: HTMLElement) => {
            toggleElement(elm, true)
         })
      } else {
         // hide navigation title
         navigations.forEach((elm: HTMLElement) => {
            toggleElement(elm, false)
         })
      }
   }

   const checkScreen = () => {
      isMobile()
         ? showNavigationTitle(false)
         : showNavigationTitle(true)
   }
   
   // run the mobile device detector
   checkScreen()
   window.addEventListener('resize', checkScreen)

</script>
<nav id="header" class="flex justify-center w-full">
     <div class="mt-0 px-6 py-1 border-gray-300 border-b shadow-lg rounded-lg bg-yellow-200 mx-4">
       <!-- Menu toggle -->
        <div id="navigation" class="items-center justify-center order-1 flex w-auto order-3 order-1" id="menu">
             <!-- Navigation link -->
            <nav>
               <ol class="flex items-center justify-between text-base text-black pt-4 pt-0">
                     {navs.map((nav) => (
                     <li>
                        <a 
                           href={nav.route} 
                           class={`
                                    inline-block 
                                    no-underline 
                                    hover:text-blue-600 
                                    font-medium text-lg 
                                    py-2 px-4 lg:-ml-2
                                    ${'/'+currentPath === nav.route 
                                       ? 'bg-slate-100 rounded-lg' 
                                       : ''}
                                 `}
                        >
                           <span class="navigation-title hidden">
                              {nav.title}
                           </span>
                           <Icon name={nav.icon} width="18" class="inline" />
                        </a>      
                     </li>
                  ))}
               </ol>
            </nav>
            <!-- Navigation link -->
         </div>
     </div>
  </nav>

  <style>
   #header {
      /* max-width: 400px; */
      bottom: 40px;
      right: auto;
      left: auto;
      position: fixed;
      overflow: hidden;
      z-index: 10px;
   }
  </style>